"use strict";var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source){if(Object.prototype.hasOwnProperty.call(source,key)){target[key]=source[key]}}}return target};var _require=require("electron"),app=_require.app,BrowserWindow=_require.BrowserWindow;var handleIpcThings=require("./lib/handleIpc");function createWindow(){var url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"https://github.com";var opt=arguments[1];var debug=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var defaultOpt={useContentSize:false,center:true,resizable:true,movable:true,minimizable:false,maximizable:false,alwaysOnTop:false,fullscreen:false,skipTaskbar:false,title:"electron",autoHideMenuBar:false,frame:true,backgroundColor:"#ffffff",webPreferences:{webSecurity:true,defaultEncoding:"UTF-8",allowRunningInsecureContent:true,plugins:true,nodeIntegration:true,nodeIntegrationInWorker:false}};var options=_extends(defaultOpt,{width:800,height:600,ipcSync:false},opt);var win=null;win=new BrowserWindow(options);win.loadURL(url);if(debug){win.webContents.openDevTools()}if(defaultOpt.ipcMode){handleIpcThings(defaultOpt.ipcListener,defaultOpt.ipcSync,debug)}return win}var eleBox=function eleBox(){app.on("window-all-closed",function(){if(process.platform!=="darwin"){app.quit()}})};eleBox.prototype.ready=function(url,opt){var debug=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;app.on("ready",function(){var win=createWindow(url,opt,debug);var contents=win.webContents;contents.on("before-input-event",function(event,input){if(input.type==="keyUp"){switch(input.key){case"F12":contents.toggleDevTools();break;case"F5":contents.reload();break;}}});win.once("ready-to-show",function(){});win.on("closed",function(){win=null})})};module.exports={eleBox:eleBox};