"use strict";var _require=require("electron"),ipcMain=_require.ipcMain;var handleIpcThings=function handleIpcThings(){var ipcListener=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];var sync=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var debug=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(ipcListener.length===0)return;ipcListener.forEach(function(item,i){ipcMain.on(item.thing,function(event,arg){if(debug){console.log("\u4E3B\u8FDB\u7A0B\u89E6\u53D1\u4E8B\u4EF6"+item.thing+"\uFF0C\u5904\u7406\u4E2D...")}item.mainCb&&item.mainCb(event,arg);var returnMessage=item.renderCb&&item.renderCb(event,arg);if(sync){if(debug){console.log("\u8FD4\u56DE\u540C\u6B65\u6D88\u606F:"+returnMessage)}event.returnValue=returnMessage}else{if(debug){console.log("\u8FD4\u56DE\u5F02\u6B65\u6D88\u606F:"+returnMessage)}event.sender.send(item.thing+"-replay",returnMessage)}})})};module.exports=handleIpcThings;